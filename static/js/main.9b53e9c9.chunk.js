(this["webpackJsonpwebstac-to-cal"]=this["webpackJsonpwebstac-to-cal"]||[]).push([[0],{27:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(15),s=n(1),i=n(3),o=n(2),c=n(5),l=n(6),d=n(0),u=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).button=void 0,a.button=null,a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.initTooltip()}},{key:"componentDidUpdate",value:function(e){this.props.tooltip!==e.tooltip&&this.initTooltip()}},{key:"componentWillUnmount",value:function(){this.button&&$(this.button).tooltip("dispose")}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("button",{onClick:this.props.onClick,className:"btn btn-danger",ref:function(t){return e.button=t},"data-toggle":this.props.tooltip&&"tooltip","data-placement":this.props.tooltip&&"top",title:this.props.tooltip,children:[Object(d.jsx)("i",{className:"fa fa-times","aria-hidden":"true"}),this.props.children]})}},{key:"initTooltip",value:function(){this.button&&this.props.tooltip&&$(this.button).tooltip()}}]),n}(a.Component),h=n(13),p=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],b=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"getIsSignedIn",value:function(){return gapi.auth2.getAuthInstance().currentUser.get().isSignedIn()}},{key:"signIn",value:function(){return new Promise((function(e,t){gapi.auth2.getAuthInstance().signIn().then((function(t){return e()}),(function(e){return t(j.tryToConvert(e)||e)}))}))}},{key:"signOut",value:function(){return new Promise((function(e,t){gapi.auth2.getAuthInstance().signOut().then(e,(function(e){return t(j.tryToConvert(e)||e)}))}))}},{key:"getCalendarList",value:function(){return new Promise((function(e,t){gapi.client.calendar.calendarList.list({minAccessRole:"writer"}).then(e,(function(e){return t(j.tryToConvert(e)||e)}))})).then((function(e){return e.result.items}))}},{key:"createEvent",value:function(e,t){try{var n=gapi.client.calendar.events.insert({calendarId:e,resource:t.generateEventObject()});return new Promise((function(e,t){n.then((function(t){return e(t.result.htmlLink)}),(function(e){return t(j.tryToConvert(e)||e)}))}))}catch(a){return Promise.reject(a)}}}],[{key:"getInstance",value:function(){if(null===e.instancePromise){if(!gapi.client)throw new Error("Google client library is required in global scope.  Be sure it has loaded and executed completely.");e.instancePromise=new Promise((function(t,n){gapi.client.init({apiKey:"AIzaSyDEiPoOLx-XZvaPSJCRwBi9hwebeo_d4fA",clientId:"958398529813-fd454skqr0ergbl6ee922pcia76tm1ej.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.readonly https://www.googleapis.com/auth/calendar.events",discoveryDocs:p}).then((function(){return t(new e)}),(function(e){return n(j.tryToConvert(e)||e)}))}))}return e.instancePromise}}]),e}();b.instancePromise=null;var v=b;var j=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,a){var r;Object(s.a)(this,n);var i=null!=a?"HTTP "+a:"No response -- check connection";return r=t.call(this,"".concat(i,": ").concat(e)),Object.setPrototypeOf(Object(o.a)(r),n.prototype),r.name="ApiHttpError",r}return Object(i.a)(n,null,[{key:"tryToConvert",value:function(e){return e instanceof n?e:function(e){if("object"===typeof e&&"result"in e){var t=e.result||{};if("error"in t){var n=t.error;return"number"===typeof n.code&&"string"===typeof n.message}}return!1}(e)?new n(e.result.error.message,e.status):null}}]),n}(Object(h.a)(Error)),g=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={isLoading:!1,isError:!1,errorTooltip:""},a.buttonClicked=a.buttonClicked.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"buttonClicked",value:function(){var e=this;this.props.onClick&&(this.setState({isLoading:!0}),this.props.onClick().then((function(t){e.props.onPromiseResolved&&e.props.onPromiseResolved(t),e.setState({isLoading:!1})})).catch((function(t){window.console.error(t),e.setState({isLoading:!1,isError:!0,errorTooltip:t instanceof j?t.message:""})})))}},{key:"render",value:function(){return this.state.isLoading?Object(d.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Working..."}):this.state.isError?Object(d.jsx)(u,{tooltip:this.state.errorTooltip,onClick:this.buttonClicked,children:this.props.errorContent}):Object(d.jsx)("button",{className:this.props.className,onClick:this.buttonClicked,children:this.props.children})}}]),n}(a.Component);g.defaultProps={errorContent:"Error - retry?"};var f=g,m=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(f);var O=function(e){return e.isSignedIn?Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"You have granted access to your calendar."}),Object(d.jsx)(m,{className:"btn btn-light",onClick:e.onSignOutRequested,onPromiseResolved:e.onAuthChangeComplete,errorContent:"End session failed - retry?",children:"End session"})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Click the button to grant access to your Google calendar."}),Object(d.jsx)(m,{className:"btn btn-primary",onClick:e.onSignInRequested,onPromiseResolved:e.onAuthChangeComplete,errorContent:"Permission failed - retry?",children:"Grant permission"})]})};n(27);function y(e){return Object(d.jsxs)("div",{className:"alert alert-success ScheduleInput-notice",role:"alert",children:[e.numEvents," events found!  Scroll down to confirm additions to calendar.",Object(d.jsx)("br",{}),Object(d.jsx)("i",{className:"fa fa-arrow-down ScheduleInput-arrow","aria-hidden":"true"})]})}var C=Object(d.jsxs)("div",{className:"alert alert-danger ScheduleInput-notice ScheduleInput-parse-failed",role:"alert",children:[Object(d.jsx)("p",{children:"We weren't able to detect any of your classes or finals."}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"Be sure you're pasting your entire class schedule, including Course IDs."}),Object(d.jsx)("li",{children:"You could be using an unsupported browser.  Try copying WebSTAC from the desktop version of Chrome, Firefox, Safari, Opera, or Edge."})]})]}),x=function(e){var t="ScheduleInput-input-box",n=null;if(e.value){var a=e.numEventsParsed||0;a>0?(t+=" ScheduleInput-success-border",n=Object(d.jsx)(y,{numEvents:a})):(t+=" ScheduleInput-failed-border",n=C)}return Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("a",{href:"https://acadinfo.wustl.edu/apps/ClassSchedule/",target:"_blank",rel:"noreferrer",children:"Click here to go to your WebSTAC class schedule."})," Then, SELECT ALL and copy and paste everything into this text box."]}),Object(d.jsx)("p",{children:Object(d.jsx)("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#help-modal",children:"More help"})}),Object(d.jsx)("textarea",{className:t,placeholder:"Go to WebSTAC >> Courses & Registration >> Class Schedule.\nThen, SELECT ALL the text, including finals schedule, and copy and paste it into this box.",value:e.value,onChange:e.onChange}),n]})},E=n(11),S=function(){function e(){Object(s.a)(this,e),e.isInitialized||(E.b("UA-58192647-1"),E.d({anonymizeIp:!0}))}return Object(i.a)(e,[{key:"sendPageView",value:function(e){E.c(e)}},{key:"sendEvent",value:function(e){E.a(e)}}]),e}();S.isInitialized=!1;var w=S,A=n(20),k=n(7),T=n.n(k),I={name:"SP23",startDate:T()("2023-01-17","YYYY-MM-DD",!0),endDate:T()("2022-04-29","YYYY-MM-DD",!0)};if(!I.startDate.isValid()||!I.endDate.isValid()||I.endDate.isBefore(I.startDate))throw new Error("Semester dates are invalid");var P,D=I;!function(e){e.PERMISSION_DENIED="Scroll up to step 1 and grant permission first.",e.NO_CALENDAR_SELECTED="Select a calendar first.",e.DATE="Enter a date in a supported format, like YYYY-MM-DD.",e.TIME="Enter a valid time (HH:MM[am/pm]).",e.END_BEFORE_START="End time must be AFTER start time.",e.REPEAT_REQUIRED="Select at least one day of the week."}(P||(P={}));var R,N=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),Object.setPrototypeOf(Object(o.a)(a),n.prototype),a.name="ValidationError",a}return n}(Object(h.a)(Error)),L=N,M=["MMM D YYYY","YYYY-MM-DD"],Y="h:mmA",B=["MO","TU","WE","TH","FR","SA","SU"],_="America/Chicago",W={overrides:[],useDefault:!1};!function(e){e[e.normal=0]="normal",e[e.loading=1]="loading",e[e.success=2]="success",e[e.error=3]="error"}(R||(R={}));var U=function(){function e(){Object(s.a)(this,e),this.name="",this.location="",this.date="",this.startTime="",this.endTime="",this.isCourse=!0,this.repeatingDays=Array(e.DAYS_PER_WEEK).fill(!1),this.buttonState=R.normal,this.successUrl=null,this.error=null,this.isCustom=!1}return Object(i.a)(e,[{key:"getIsRepeating",value:function(){return this.repeatingDays.some((function(e){return e}))}},{key:"getIsReadyToAdd",value:function(){return this.buttonState===R.normal||this.buttonState===R.error}},{key:"getDate",value:function(){var e=this.isCourse?I.startDate.clone():T()(this.date,M,!0),t=e.isoWeekday()-1,n=this.daysUntilNextRepeatingDay(t);return n>0&&e.add(n,"days"),e}},{key:"generateEventObject",value:function(){var e=this.generateStartEndTimes(),t=e.startDateTime,n=e.endDateTime;return{summary:this.name,location:this.location,start:{dateTime:t,timeZone:_},end:{dateTime:n,timeZone:_},recurrence:this.generateRecurrence(),description:"Created by WebSTAC to Calendar",reminders:W}}},{key:"generateStartEndTimes",value:function(){var e=this.getDate();if(!e.isValid())throw new N(P.DATE);var t=T.a.utc(this.startTime,Y,!0),n=T.a.utc(this.endTime,Y,!0);if(!t.isValid()||!n.isValid())throw new N(P.TIME);if(n.isBefore(t))throw new N(P.END_BEFORE_START);var a=e.toISOString().substring(0,11);return{startDateTime:a+t.toISOString().substr(11,8),endDateTime:a+n.toISOString().substr(11,8)}}},{key:"generateRecurrence",value:function(){if(this.isCourse&&!this.getIsRepeating())throw new N(P.REPEAT_REQUIRED);for(var e=[],t=0;t<this.repeatingDays.length;t++)this.repeatingDays[t]&&e.push(B[t]);if(e.length>0){var n=I.endDate.format("YYYYMMDD");return["RRULE:FREQ=WEEKLY;UNTIL=".concat(n,";BYDAY=").concat(e.join(","))]}return[]}},{key:"daysUntilNextRepeatingDay",value:function(t){for(var n=t,a=0;a<e.DAYS_PER_WEEK;a++){if(this.repeatingDays[n])return a;n=(n+1)%7}return-1}}]),e}();U.DAYS_PER_WEEK=7;var F=U,z=/[A-Z]\d\d.+/g,q=/([\w-]+) (\d\d?:\d\d[ap])-(\d\d?:\d\d[ap])/,V=F.DAYS_PER_WEEK,K=5,G=1,H=4,J=5,Z=1,Q=2,X=3,ee=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"parseCourses",value:function(e){var t=e.match(z);if(!t)return[];var n,a=[],r=Object(A.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value.split("\t");if(!(s.length<K)){var i=s[H].match(q)||[],o=new F;o.isCourse=!0,o.name=s[G].trim()||"",o.location=s[J]||"",o.repeatingDays=this.parseCourseDays(i[Z]||""),o.startTime=i[Q]||"",o.endTime=i[X]||"",a.push(o)}}}catch(c){r.e(c)}finally{r.f()}return a}},{key:"parseCourseDays",value:function(e){var t=Array(V).fill(!1);if(e.length===V)for(var n=0;n<V;n++)"-"!==e.charAt(n)&&(t[n]=!0);return t}}]),e}(),te=new RegExp(/((Apr|May|Jun|Jul|Aug|Dec) \d\d? \d\d\d\d) (\d\d?:\d\d[AP]M) - (\d\d?:\d\d[AP]M)\t/.source+/.+\t(.+)/.source+/\n(?:\t\n)?/.source+/Exam Building \/ Room:\t(.+)/.source,"g"),ne=1,ae=3,re=4,se=5,ie=6,oe=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,[{key:"parseExams",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.reduce((function(e,t){return e[t.name]=t.location,e}),{}),a=[],r=te.exec(e);null!==r;){var s=new F;s.isCourse=!1;var i=r[se];s.name=i+" Final";var o=r[ie];s.location="Same / Same"===o&&n[i]||o,s.date=r[ne],s.startTime=r[ae],s.endTime=r[re],a.push(s),r=te.exec(e)}return a}}]),e}(),ce=oe,le=n(16),de=n.n(le),ue=n(18),he=n(19),pe=(n(32),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return n}(f)),be=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={calendars:[]},a.getIsLoggedIn=a.getIsLoggedIn.bind(Object(o.a)(a)),a.fetchCalendars=a.fetchCalendars.bind(Object(o.a)(a)),a.setCalendarList=a.setCalendarList.bind(Object(o.a)(a)),a.calendarSelectChanged=a.calendarSelectChanged.bind(Object(o.a)(a)),a.getIsLoggedIn()&&a.fetchCalendars().then(a.setCalendarList),a}return Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.getIsLoggedIn(e.calendarApi);0===this.state.calendars.length&&t?this.fetchCalendars(e.calendarApi).then(this.setCalendarList):this.state.calendars.length>0&&!t&&this.setState({calendars:[]})}},{key:"getIsLoggedIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.calendarApi;return!!e&&e.getIsSignedIn()}},{key:"fetchCalendars",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.calendarApi;return e?e.getCalendarList():Promise.resolve([])}},{key:"setCalendarList",value:function(e){this.getIsLoggedIn()&&this.setState({calendars:e})}},{key:"calendarSelectChanged",value:function(e){if(this.props.onCalendarSelected){var t=this.state.calendars.find((function(t){return t.id===e.target.value}));this.props.onCalendarSelected(t||null)}}},{key:"render",value:function(){var e=this.props.selectedCalendar?this.props.selectedCalendar.id:"",t=this.state.calendars.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.summary},e.id)}));return Object(d.jsxs)("div",{className:"EventTableOptions",children:[Object(d.jsxs)("div",{className:"EventTableOptions-row",children:[Object(d.jsx)("label",{children:"Select semester:"}),Object(d.jsx)("select",{children:Object(d.jsx)("option",{value:D.name,children:D.name},D.name)})]}),Object(d.jsxs)("div",{className:"EventTableOptions-row",children:[Object(d.jsx)("label",{children:"Select calendar:"}),Object(d.jsxs)("select",{value:e,onChange:this.calendarSelectChanged,children:[Object(d.jsx)("option",{value:"",children:"Select a calendar..."}),t]}),Object(d.jsx)("span",{className:"EventTableOptions-refresh-list-button",children:this.getIsLoggedIn()?Object(d.jsx)(pe,{className:"btn btn-secondary",onClick:this.fetchCalendars,onPromiseResolved:this.setCalendarList,children:"Refresh list"}):null})]})]})}}]),n}(a.Component),ve=be,je=n(21),ge=(n(33),12),fe=6,me=35,Oe=30;function ye(e){switch(e.model.buttonState){case R.loading:return Object(d.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Working..."});case R.success:return Object(d.jsxs)("a",{className:"btn btn-success",href:e.model.successUrl||void 0,target:"_blank",rel:"noopener noreferrer",children:[Object(d.jsx)("i",{className:"fa fa-check","aria-hidden":"true"}),"Added!"]});case R.error:var t,n=e.model.error;return n instanceof L||n instanceof j?t="Couldn't post event: "+n.message:(t="Unexpected error (bug?) -- Check developers' console for technical details.",null==n&&window.console.error("Button state was set to error, but model.error is empty.  Are you setting state correctly?")),Object(d.jsx)(u,{tooltip:t,onClick:e.onAddButtonPressed,children:"Failed - retry?"});case R.normal:default:return Object(d.jsxs)("button",{className:"btn btn-light",onClick:e.onAddButtonPressed,children:[Object(d.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true"}),"Add"]})}}var Ce=function(e){var t=e.model,n=e.onModelChangeRequested||function(){},a="EventTableRow";return t.isCourse||(a+=" EventTableRow-final"),Object(d.jsxs)("tr",{className:a,children:[Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("input",{type:"text",className:"EventTableRow-full-width",value:t.name,size:me,onChange:function(e){return n({name:e.target.value})}})]}),Object(d.jsx)("td",{children:e.model.isCourse?t.repeatingDays.map((function(t,a){return Object(d.jsx)("input",{type:"checkbox",checked:t,onChange:function(t){return function(t,a){var r=e.model.repeatingDays.slice();r[t]=a,n({repeatingDays:r})}(a,t.target.checked)}},a)})):Object(d.jsx)("input",{type:"text",value:t.date,size:ge,onChange:function(e){return n({date:e.target.value})}})}),Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("input",{type:"text",value:t.startTime,size:fe,onChange:function(e){return n({startTime:e.target.value})}}),"-",Object(d.jsx)("input",{type:"text",value:t.endTime,size:fe,onChange:function(e){return n({endTime:e.target.value})}})]}),Object(d.jsxs)("td",{children:[" ",Object(d.jsx)("input",{type:"text",className:"EventTableRow-full-width",value:t.location,size:Oe,onChange:function(e){return n({location:e.target.value})}})]}),Object(d.jsx)("td",{children:Object(d.jsx)(ye,Object(je.a)({},e))})]})},xe=(n(34),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).analytics=void 0,a.state={events:e.events,selectedCalendar:null,isAddingAll:!1},a.analytics=new w,a.addCustomEvent=a.addCustomEvent.bind(Object(o.a)(a)),a.updateOneEvent=a.updateOneEvent.bind(Object(o.a)(a)),a.validateOptions=a.validateOptions.bind(Object(o.a)(a)),a.addButtonPressed=a.addButtonPressed.bind(Object(o.a)(a)),a.addAllButtonPressed=a.addAllButtonPressed.bind(Object(o.a)(a)),a.addModelToCalendar=a.addModelToCalendar.bind(Object(o.a)(a)),a.renderEventTableRows=a.renderEventTableRows.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){if(this.props.events!==e.events){var t=this.state.events.filter((function(e){return e.isCustom})),n=e.events.concat(t);this.setState({events:n})}}},{key:"addCustomEvent",value:function(){var e=new U;e.isCustom=!0;var t=this.state.events.slice();t.push(e),this.analytics.sendEvent({category:"Buttons",action:"Custom event"}),this.setState({events:t})}},{key:"updateOneEvent",value:function(e,t){var n=he.cloneDeep(this.state.events[t]);if(n){var a=this.state.events.slice();a[t]=Object.assign(n,e),this.setState({events:a})}}},{key:"validateOptions",value:function(){return this.props.calendarApi&&this.props.calendarApi.getIsSignedIn()?this.state.selectedCalendar?null:new N(P.NO_CALENDAR_SELECTED):new N(P.PERMISSION_DENIED)}},{key:"addButtonPressed",value:function(e){var t=this.state.events[e];if(!t||!t.getIsReadyToAdd())return Promise.resolve();var n=this.validateOptions();return n?(this.updateOneEvent({buttonState:R.error,error:n},e),Promise.resolve()):this.addModelToCalendar(e)}},{key:"addAllButtonPressed",value:function(){var e=Object(ue.a)(de.a.mark((function e(){var t;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isAddingAll:!0}),t=0;case 2:if(!(t<this.state.events.length)){e.next=8;break}return e.next=5,this.addButtonPressed(t);case 5:t++,e.next=2;break;case 8:this.setState({isAddingAll:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addModelToCalendar",value:function(e){var t=this;if(!this.props.calendarApi||!this.state.selectedCalendar)return window.console.warn("Cannot add event to calendar: API not loaded or no selected calendar."),Promise.resolve();var n=this.state.events[e];return n?(this.updateOneEvent({buttonState:R.loading,error:null},e),this.props.calendarApi.createEvent(this.state.selectedCalendar.id,n).then((function(a){t.analytics.sendEvent({category:"Calendar",action:"Event added"}),n.isCourse?t.analytics.sendEvent({category:"Calendar",action:"Course added"}):t.analytics.sendEvent({category:"Calendar",action:"Exam added"}),t.updateOneEvent({buttonState:R.success,successUrl:a},e)})).catch((function(n){n instanceof N||window.console.error(n),t.updateOneEvent({buttonState:R.error,error:n},e)}))):(console.warn("Cannot add invalid event at index ".concat(e," to calendar.")),Promise.resolve())}},{key:"renderEventTableRows",value:function(){var e=this;return this.state.events.map((function(t,n){return Object(d.jsx)(Ce,{model:t,onModelChangeRequested:function(t){return e.updateOneEvent(t,n)},onAddButtonPressed:function(){return e.addButtonPressed(n)}},n)}))}},{key:"render",value:function(){var e,t=this;return e=this.state.isAddingAll?Object(d.jsx)("button",{className:"btn btn-light",disabled:!0,children:"Working..."}):this.state.events.length>0?Object(d.jsx)("button",{className:"btn btn-primary",onClick:this.addAllButtonPressed,children:"Add all to calendar"}):Object(d.jsx)("button",{className:"btn btn-primary",disabled:!0,children:"Nothing detected"}),Object(d.jsxs)("div",{className:"EventTable",children:[Object(d.jsxs)("div",{className:"EventTable-options-container",children:[Object(d.jsxs)("p",{children:["Tip: you can go to ",Object(d.jsx)("a",{href:"https://www.google.com/calendar/",target:"_blank",rel:"noopener noreferrer",children:"www.google.com/calendar"}),', create a new calendar there, and then press "Refresh list"']}),Object(d.jsx)(ve,{calendarApi:this.props.calendarApi,selectedCalendar:this.state.selectedCalendar,onCalendarSelected:function(e){return t.setState({selectedCalendar:e})}}),Object(d.jsx)("p",{children:e})]}),Object(d.jsx)("div",{className:"table-responsive",children:Object(d.jsxs)("table",{className:"table table-hover table-sm",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:"Class or final name"}),Object(d.jsx)("td",{children:"Days (MTWTFSS)"}),Object(d.jsx)("td",{children:"Time (start - end)"}),Object(d.jsx)("td",{children:"Location"}),Object(d.jsx)("td",{children:"Add to calendar"})]})}),Object(d.jsxs)("tbody",{children:[this.renderEventTableRows(),Object(d.jsx)("tr",{onClick:this.addCustomEvent,children:Object(d.jsx)("td",{colSpan:5,children:Object(d.jsx)("i",{className:"fa fa-plus-circle EventTable-add-custom-event","aria-hidden":"true"})})})]})]})})]})}}]),n}(a.Component)),Ee=xe,Se=(n(35),function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).analytics=void 0,a.courseParser=void 0,a.examParser=void 0,a.parsedEvents=void 0,a.state={calendarApi:null,isApiLoadError:!1,rawInputSchedule:""},a.analytics=new w,a.courseParser=new ee,a.examParser=new ce,a.parsedEvents=[],v.getInstance().then((function(e){return a.setState({calendarApi:e})})).catch((function(e){window.console.error(e),a.setState({isApiLoadError:!0})})),a.authStatusChanged=a.authStatusChanged.bind(Object(o.a)(a)),a.inputScheduleChanged=a.inputScheduleChanged.bind(Object(o.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.analytics.sendPageView("/")}},{key:"authStatusChanged",value:function(){this.setState({})}},{key:"inputScheduleChanged",value:function(e){var t=this.courseParser.parseCourses(e.target.value),n=this.examParser.parseExams(e.target.value,t);this.parsedEvents=t.concat(n),this.parsedEvents.length>0?(this.analytics.sendEvent({category:"Schedule Parse",action:"Success"}),this.analytics.sendEvent({category:"Schedule Parse",action:"Courses parsed",value:t.length}),this.analytics.sendEvent({category:"Schedule Parse",action:"Exams parsed",value:n.length})):this.analytics.sendEvent({category:"Schedule Parse",action:"Failure"}),this.setState({rawInputSchedule:e.target.value})}},{key:"render",value:function(){var e,t="App-step",n="App-step App-step-active";e=this.state.calendarApi&&this.state.calendarApi.getIsSignedIn()?0===this.parsedEvents.length?2:3:1;var a=null;return a=this.state.isApiLoadError?Object(d.jsxs)("div",{className:"alert alert-danger App-api-load-failed",children:[Object(d.jsx)("h4",{children:"Failed to load Calendar API."}),"Try ",Object(d.jsx)("a",{href:"",children:"reloading the page"}),".  If that doesn't work, either Google is down (very bad), or there is a serious bug within this app (also very bad)."]}):this.state.calendarApi?Object(d.jsx)(O,{isSignedIn:this.state.calendarApi.getIsSignedIn(),onSignInRequested:this.state.calendarApi.signIn,onSignOutRequested:this.state.calendarApi.signOut,onAuthChangeComplete:this.authStatusChanged}):Object(d.jsx)("p",{children:"Loading..."}),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:1===e?n:t,children:[Object(d.jsx)("h3",{className:"App-heading",children:"\u2460 Permission"}),a]}),Object(d.jsxs)("div",{className:2===e?n:t,children:[Object(d.jsx)("h3",{className:"App-heading",children:"\u2461 CopyPaste"}),Object(d.jsx)(x,{value:this.state.rawInputSchedule,onChange:this.inputScheduleChanged,numEventsParsed:this.parsedEvents.length})]}),Object(d.jsxs)("div",{className:3===e?n:t,children:[Object(d.jsx)("h3",{className:"App-heading",children:"\u2462 Confirm"}),Object(d.jsx)(Ee,{calendarApi:this.state.calendarApi||void 0,events:this.parsedEvents})]})]})}}]),n}(a.Component));function we(){return Object(d.jsx)("span",{role:"img","aria-label":"Frown",children:"\ud83d\ude41"})}window.onload=function(){var e=document.getElementById("root");if(function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>0||n>0}()){var t=Object(d.jsx)("div",{style:{textAlign:"center"},children:Object(d.jsxs)("div",{className:"alert alert-danger",style:{display:"inline-block"},children:[Object(d.jsxs)("h4",{children:[Object(d.jsx)(we,{})," Internet Explorer not supported. ",Object(d.jsx)(we,{})]}),"You appear to be using Internet Explorer.  WebSTAC to Calendar does not support IE.  Sorry about that."]})});r.render(t,e)}else r.render(Object(d.jsx)(Se,{}),e)}}},[[36,1,2]]]);
//# sourceMappingURL=main.9b53e9c9.chunk.js.map